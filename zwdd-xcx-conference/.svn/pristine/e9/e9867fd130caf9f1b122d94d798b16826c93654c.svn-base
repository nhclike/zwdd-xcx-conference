import invoker,{BRIDGE_ERROR_CODE,CONTINUOUS_EVENT_LIST}from"./invoker";function startTraceReportHandler(e,r){var t=r.resolve,o=r.reject,n=r.context,a=invoker.registerEvent(CONTINUOUS_EVENT_LIST.UPDATE_TRACE,(function(r){var t=r.data;t.errorCode&&t.errorCode!==BRIDGE_ERROR_CODE.SUCCESS?e.onFail&&e.onFail(t):e.onSuccess&&e.onSuccess(t.result||t)}));n&&n.call("startTraceReport",e,(function(r){invoker.registerContinuesEvent(e.traceId,a),invoker.handleBridgeResponse(r,t,o)}))}invoker.registerAPI("startTraceReport",{mobile:startTraceReportHandler});export default function startTraceReport(e){return invoker.invoke("startTraceReport",e)}